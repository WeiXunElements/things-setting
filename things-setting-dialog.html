<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../paper-input/paper-input.html">
<link rel="import" href="../paper-dialog-behavior/paper-dialog-behavior.html">
<link rel="import" href="../paper-dialog-behavior/paper-dialog-shared-styles.html">
<link rel="import" href="../iron-localstorage/iron-localstorage.html">

<link rel="import" href="../things-global-behavior/things-global-behavior.html">
<link rel="import" href="../things-i18n-msg/things-i18n-msg.html">
<link rel="import" href="../things-resource-combo/things-locale-combo.html">
<link rel="import" href="../things-resource-combo/things-menu-combo.html">

<dom-module id="things-setting-dialog">
  <template>
    <style include="paper-dialog-shared-styles">
    h2{
      padding-top:20px;
      text-transform: capitalize;
    }
    paper-button{
      @apply(--things-button)
    }
    paper-button[autofocus]{
      @apply(--things-button-important)
    }
    .half-width{
      min-width:35% !important;
    }
    .buttons{
      padding-right:20px
    }
    </style>

    <h2><things-i18n-msg auto msgid="button.setting">Setting</things-i18n-msg></h2>
    <!-- Base URL -->
    <paper-input 
      label="Base URL (ex: http://www.elidom.xyz/rest)" 
      value="{{globals.baseUrl::change}}" autoValidate required hidden$=[[!devMode]]>
    </paper-input>

    <!-- Web Socket URL -->
    <paper-input
      id="ws-url"
      label="Web Socket URL"
      value="{{globals.wsUrl::change}}" hidden$=[[!devMode]]>
    </paper-input>

    <!-- locale selector -->
    <things-locale-combo 
      id="locale-selector" 
      storage-name="setting.locale" 
      default-locale ="ko-KR"
      selected-locale ="{{globals.locale}}">
    </things-locale-combo>

    <div class="buttons">
      <paper-button dialog-confirm autofocus><things-i18n-msg msgid="button.confirm" auto>Confirm</things-i18n-msg></paper-button>
    </div>
  </template>

  <script>
    Polymer({
      is: 'things-setting-dialog',
      properties:{
        devMode:{
          type: Boolean,
          value: false
        }
      },

      behaviors: [
        Polymer.PaperDialogBehavior, 
        Things.GlobalBehavior
      ]
    });
  </script>
</dom-module>
